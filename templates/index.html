<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>EnfEvolue ‚Äì Evolu√ß√£o de Enfermagem</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<header>
    <h1>EnfEvolue</h1>
    <p>Evolu√ß√£o T√©cnica de Enfermagem</p>
</header>

<main>

<!-- üîµ CADASTRO TEMPOR√ÅRIO -->
<div class="cadastro-box">
    <h2>üë©‚Äç‚öïÔ∏è Cadastrar Profissional Tempor√°ria</h2>

    <form method="POST">
        <input type="hidden" name="acao" value="cadastrar_profissional">

        <label>Nome</label>
        <input type="text" name="novo_nome">

        <label>COREN</label>
        <input type="text" name="novo_coren">

        <button type="submit">Cadastrar Profissional Tempor√°ria</button>

        {% if mensagem %}
            <p style="color:green; font-weight:bold; margin-top:10px;">
                {{ mensagem }}
            </p>
        {% endif %}
    </form>
</div>

<!-- üü¢ FORMUL√ÅRIO PRINCIPAL -->
<form method="POST">

<input type="hidden" name="acao" value="gerar_evolucao">

<h2>Tipo de Registro</h2>

<select id="tipo_registro" name="tipo_registro" required>
    <option value="">Selecione</option>
    <option value="evolucao">Evolu√ß√£o</option>
    <option value="curativo">Curativo</option>
</select>

<!-- ================= EVOLU√á√ÉO ================= -->

<div id="formEvolucao">

<h2>Dados da Evolu√ß√£o</h2>

<label>Setor</label>
<select name="setor">
    <option value="">Selecione</option>
    <option value="Sala de Medica√ß√£o">Sala de Medica√ß√£o</option>
    <option value="Observa√ß√£o Pediatrica">Observa√ß√£o Pediatrica</option>
    <option value="Observa√ß√£o">Observa√ß√£o</option>
    <option value="Sala Vermelha">Sala Vermelha</option>
</select>

<label>Hor√°rio da evolu√ß√£o</label>
<input type="time" name="horario">

<label>Paciente consciente e orientado?</label>
<select name="consciente">
    <option value="">Selecione</option>
    <option value="Sim">Sim</option>
    <option value="N√£o">N√£o</option>
</select>

<label>Paciente se queixa de algo?</label>
<select name="queixa">
    <option value="">Selecione</option>
    <option value="Sim">Sim</option>
    <option value="N√£o">N√£o</option>
</select>

<label>Descri√ß√£o da queixa</label>
<input type="text" name="descricao_queixa">

<label>Escala da dor (0‚Äì10)</label>
<input type="number" name="dor" min="0" max="10">

<h3>Procedimentos</h3>

<label>Pun√ß√£o venosa realizada?</label>
<select name="puncao">
    <option value="">Selecione</option>
    <option value="Sim">Sim</option>
    <option value="N√£o">N√£o</option>
</select>

<label>Numera√ß√£o do abocath</label>
<select name="abocath" id="abocath">
    <option value="">Selecione</option>
    <option value="18">18</option>
    <option value="20">20</option>
    <option value="22">22</option>
    <option value="24">24</option>
    <option value="outro">Outro</option>
</select>

<input type="text" name="abocath_outro" id="abocath_outro"
       placeholder="Digite outro n√∫mero"
       style="display:none; margin-top:5px;">

<label>Medica√ß√£o administrada conforme prescri√ß√£o?</label>
<select name="medicacao">
    <option value="">Selecione</option>
    <option value="Sim">Sim</option>
    <option value="N√£o">N√£o</option>
</select>

<label>Desfecho do paciente</label>
<select name="desfecho">
    <option value="">Selecione</option>
    <option value="Alta">Alta</option>
    <option value="Retorna avalia√ß√£o m√©dica">Retorna avalia√ß√£o m√©dica</option>
    <option value="Paciente evadiu">Paciente evadiu</option>
</select>

</div>

<!-- ================= CURATIVO ================= -->

<div id="formCurativo" style="display:none;">

<h2>Registro de Curativo</h2>

<label>Hor√°rio do procedimento</label>
<input type="time" name="horario_curativo">

<label>Tipo de Curativo</label>
<select name="tipo_curativo">
    <option value="">Selecione</option>
    <option value="Simples">Simples</option>
    <option value="Compressivo">Compressivo</option>
    <option value="Oclusivo">Oclusivo</option>
    <option value="Cir√∫rgico">Cir√∫rgico</option>
</select>

<h3>Materiais Utilizados</h3>

<label>Gaze (quantidade)</label>
<input type="number" name="qtd_gaze" min="0">

<label><input type="checkbox" name="alcool" value="√Ålcool 70%"> √Ålcool 70%</label>

<label><input type="checkbox" name="clorexidina" value="Clorexidina"> Clorexidina</label>

<label><input type="checkbox" name="sf" value="SF 0,9%"> SF 0,9%</label>

<label>Pomada</label>
<input type="text" name="pomada">

<label>Outros materiais</label>
<input type="text" name="outros_materiais">

<h3>Avalia√ß√£o da Ferida</h3>

<label>Aspecto</label>
<input type="text" name="aspecto">

<label>Exsudato</label>
<select name="exsudato">
    <option value="">Selecione</option>
    <option value="Ausente">Ausente</option>
    <option value="Seroso">Seroso</option>
    <option value="Purulento">Purulento</option>
</select>

</div>

<!-- ================= PROFISSIONAL ================= -->

<h2>Profissional Respons√°vel</h2>

<label>T√©cnica de Enfermagem</label>
<select name="profissional" required>
    <option value="">Selecione</option>
    {% for nome in profissionais %}
        <option value="{{ nome }}">{{ nome }}</option>
    {% endfor %}
</select>

<label>Observa√ß√£o (opcional)</label>
<input type="text" name="observacao">

<button type="submit">Gerar Registro</button>

</form>

{% if texto %}
<section class="resultado">
    <h2>Registro Gerado</h2>
    <textarea readonly>{{ texto }}</textarea>
</section>
{% endif %}

</main>

<footer>
    <p>
        EnfEvolue ¬© 2026<br>
        Ferramenta de apoio √† evolu√ß√£o t√©cnica de enfermagem<br>
        N√£o substitui registros oficiais do prontu√°rio eletr√¥nico
    </p>
    <strong>Desenvolvido por B√°rbara Nunes Programmer</strong>
</footer>

<script>

// Alternar entre evolu√ß√£o e curativo
document.getElementById("tipo_registro").addEventListener("change", function() {

    let evolucao = document.getElementById("formEvolucao");
    let curativo = document.getElementById("formCurativo");

    if (this.value === "curativo") {
        evolucao.style.display = "none";
        curativo.style.display = "block";
    } else {
        evolucao.style.display = "block";
        curativo.style.display = "none";
    }
});

// Campo outro abocath
document.getElementById("abocath").addEventListener("change", function() {
    let outroCampo = document.getElementById("abocath_outro");
    outroCampo.style.display = this.value === "outro" ? "block" : "none";
});

</script>

</body>
</html>